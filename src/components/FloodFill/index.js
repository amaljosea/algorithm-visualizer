
import React, { useState } from 'react'
import './FloodFill.css'
import { floodFillAlgo } from './algorithm'
import Container from '../Container/index'
import Menu from '../Menu/index'


const FloodFill = () => {
    const initialImage = [
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
        ["#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#f44336", "#000", "#000", "#000", "#000", "#000", "#000"],
    ]
    const [image, setImage] = useState(initialImage)
    const [flooding, setFlooding] = useState(false)

    const onCellClick = async (a, b) => {
        setFlooding(true)
        const finish = await floodFillAlgo(JSON.parse(JSON.stringify(image)), "white", image[a][b], [a, b], setImage)
        debugger
        if (finish) {
            setFlooding(false)
        }
    }
    return (
        <>
            <Container>
                <h1>
                    Flood Fill algorithm
                </h1>
                <div>
                    <table>
                        {image.map((row, a) => <tr>{row.map((cellColor, b) => <td style={{ backgroundColor: cellColor }} onClick={() => {
                            onCellClick(a, b)
                        }}></td>)}</tr>)}
                    </table>
                </div>
                {flooding && <p>Flooding...</p>}
            </Container>
            <Menu></Menu>
        </>
    )
}

export default FloodFill